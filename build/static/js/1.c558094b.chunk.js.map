{"version":3,"sources":["components/manage/edit/index.tsx","../node_modules/react-router/es/index.js","webpack:///./src/components/manage/edit/style.less?c6a2","components/manage/edit/style.less"],"names":["Editor","_super","_this","apply","this","arguments","state","title","source","html","preview","submitting","togglePreview","setState","renderHtml","__WEBPACK_IMPORTED_MODULE_5_src_service_markdown_service__","render","submit","article","Object","__WEBPACK_IMPORTED_MODULE_6_src_service_article_service__","postArticle","then","res","status","props","history","push","data","id","__extends","prototype","__WEBPACK_IMPORTED_MODULE_0_react__","className","__WEBPACK_IMPORTED_MODULE_2_src_components_input_entities_Inputs__","onChange","value","__WEBPACK_IMPORTED_MODULE_3_src_components_input_entities_Button__","onClick","type","dangerouslySetInnerHTML","__html","loading","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1_react_router__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_9__withRouter__","d","content","module","i","options","hmr","transform","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"igBAQAA,EAAA,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAA,OAAAD,KAAAE,MAAAC,KAAAC,YAAAD,YACSF,EAAAI,OACLC,MAAO,GACPC,OAAQ,GACRC,KAAM,GACNC,SAAS,EACTC,YAAY,GAEPT,EAAAU,cAAgB,WACrBV,EAAKW,UACHH,SAAUR,EAAKI,MAAMI,WAGlBR,EAAAY,WAAa,WAClB,OAAOC,EAAA,EAAgBC,OAAOd,EAAKI,MAAME,SAEpCN,EAAAe,OAAS,WACd,IAAMC,GACJV,OAAQN,EAAKI,MAAME,OACnBD,MAAOL,EAAKI,MAAMC,OAEpBL,EAAKW,UACHF,YAAY,IAEdQ,OAAAC,EAAA,EAAAD,GAAiBE,YAAYH,EAAQX,MAAOW,EAAQV,QAAQc,KAAK,SAACC,GAChE,OAAOA,EAAIC,QACT,KAAK,IACHtB,EAAKuB,MAAMC,QAAQC,KAAK,YAAYJ,EAAIK,KAAKC,UAgCvD,OA3DqBC,EAAA9B,EAAAC,GA+BZD,EAAA+B,UAAAf,OAAP,eAAAd,EAAAE,KACE,OAAQ4B,EAAA,cAAAA,EAAA,cACNA,EAAA,qBAAKC,UAAU,uBACbD,EAAA,yBACEA,EAAA,0CACAA,EAAA,cAACE,EAAA,GAASC,SAAU,SAACC,GAAYlC,EAAKW,UAAWN,MAAO6B,SAG5DJ,EAAA,qBAAKC,UAAU,kBACbD,EAAA,qBAAKC,UAAU,yBACbD,EAAA,cAACK,EAAA,GACCC,QAASlC,KAAKQ,cACd2B,KAAMnC,KAAKE,MAAMI,QAAU,UAAY,IAAE,iBAG7CsB,EAAA,qBAAKC,UAAU,UACbD,EAAA,qBAAKC,UAAW7B,KAAKE,MAAMI,QAAU,GAAK,QACxCsB,EAAA,yBAASQ,yBAA2BC,OAAQrC,KAAKU,gBACjDkB,EAAA,qBAAKC,UAAU,gBAAc,iBAE/BD,EAAA,qBAAKC,UAAW7B,KAAKE,MAAMI,QAAU,OAAS,IAC5CsB,EAAA,cAACE,EAAA,GAASE,MAAOhC,KAAKE,MAAME,OAAQ2B,SAAU,SAACC,GAAYlC,EAAKW,UAAWL,OAAQ4B,UAIzFJ,EAAA,cAACK,EAAA,GAAUK,QAAStC,KAAKE,MAAMK,WAAY4B,KAAK,UAAUD,QAASlC,KAAKa,QAAM,kBAGpFjB,EA3DA,CAAqBgC,EAAA,WA6DNW,EAAA,QAAAxB,OAAAyB,EAAA,GAAW5C,qCCrE1B6C,EAAA,KAAAA,EAAA,KAAAA,EAAA,KAAAA,EAAA,IAAAA,EAAA,IAAAA,EAAA,KAAAA,EAAA,KAAAA,EAAA,IAAAA,EAAA,QAAAC,EAAAD,EAAA,KAAAA,EAAAE,EAAAJ,EAAA,sBAAAG,EAAA,yBCGA,IAAAE,EAAcH,EAAQ,KACtB,kBAAAG,QAA4CC,EAAAC,EAASF,EAAA,MAIrD,IAAAG,GAAeC,KAAA,EACfC,eAHAA,GAKaR,EAAQ,IAARA,CAAiEG,EAAAG,GAC9EH,EAAAM,SAAAL,EAAAM,QAAAP,EAAAM,8BCZAL,EAAAM,QAA2BV,EAAQ,IAARA,EAA6D,IAKxFlB,MAAcsB,EAAAC,EAAS,uxBAAuxB,IAAQM,QAAA,EAAAC,SAAA,oFAAAC,SAAAC,SAAA,sdAAAC,KAAA,aAAAC,gBAAA,2/BAAmnDC,WAAA","file":"static/js/1.c558094b.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { withRouter, RouteComponentProps } from 'react-router';\r\nimport { InkInput, TextArea } from 'src/components/input-entities/Inputs';\r\nimport InkButton from 'src/components/input-entities/Button';\r\nimport './style.less';\r\nimport MarkdownService from 'src/service/markdown.service';\r\nimport ArticleService from 'src/service/article.service';\r\n\r\nclass Editor extends React.Component<RouteComponentProps> {\r\n  public state = {\r\n    title: '',\r\n    source: '',\r\n    html: '',\r\n    preview: false,\r\n    submitting: false,\r\n  };\r\n  public togglePreview = () => {\r\n    this.setState({\r\n      preview: !this.state.preview,\r\n    });\r\n  }\r\n  public renderHtml = () => {\r\n    return MarkdownService.render(this.state.source);\r\n  }\r\n  public submit = () => {\r\n    const article = {\r\n      source: this.state.source,\r\n      title: this.state.title,\r\n    };\r\n    this.setState({\r\n      submitting: true\r\n    });\r\n    ArticleService().postArticle(article.title, article.source).then((res) => {\r\n      switch(res.status) {\r\n        case 200:\r\n          this.props.history.push(`/article/${res.data.id}`);\r\n      }\r\n    });\r\n  }\r\n  public render() {\r\n    return (<>\r\n      <div className=\"editor-info-wrapper\">\r\n        <div>\r\n          <span>标题</span>\r\n          <InkInput onChange={(value) => { this.setState({ title: value }); }} />\r\n        </div>\r\n      </div>\r\n      <div className=\"editor-wrapper\">\r\n        <div className=\"editor-button-wrapper\">\r\n          <InkButton\r\n            onClick={this.togglePreview}\r\n            type={this.state.preview ? 'primary' : ''}\r\n          >预览</InkButton>\r\n        </div>\r\n        <div className=\"editor\">\r\n          <div className={this.state.preview ? '' : 'hide'}>\r\n            <article dangerouslySetInnerHTML={{ __html: this.renderHtml() }} />\r\n            <div className=\"preview-hint\">预览</div>\r\n          </div>\r\n          <div className={this.state.preview ? 'hide' : ''}>\r\n            <TextArea value={this.state.source} onChange={(value) => { this.setState({ source: value }); }} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <InkButton loading={this.state.submitting} type=\"primary\" onClick={this.submit}>提交</InkButton>\r\n    </>);\r\n  }\r\n}\r\n\r\nexport default withRouter(Editor);\n\n\n// WEBPACK FOOTER //\n// ./src/components/manage/edit/index.tsx","import _MemoryRouter from \"./MemoryRouter\";\nexport { _MemoryRouter as MemoryRouter };\nimport _Prompt from \"./Prompt\";\nexport { _Prompt as Prompt };\nimport _Redirect from \"./Redirect\";\nexport { _Redirect as Redirect };\nimport _Route from \"./Route\";\nexport { _Route as Route };\nimport _Router from \"./Router\";\nexport { _Router as Router };\nimport _StaticRouter from \"./StaticRouter\";\nexport { _StaticRouter as StaticRouter };\nimport _Switch from \"./Switch\";\nexport { _Switch as Switch };\nimport _generatePath from \"./generatePath\";\nexport { _generatePath as generatePath };\nimport _matchPath from \"./matchPath\";\nexport { _matchPath as matchPath };\nimport _withRouter from \"./withRouter\";\nexport { _withRouter as withRouter };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-router/es/index.js\n// module id = 307\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!../../../../node_modules/less-loader/dist/cjs.js!./style.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/manage/edit/style.less\n// module id = 308\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".editor-info-wrapper{margin-bottom:1rem}.editor-wrapper{width:100%}.editor-wrapper .editor{height:65vh;width:100%;margin-top:.5rem;margin-bottom:.5rem}.editor-wrapper .editor .preview-hint{position:absolute;top:0;left:0;width:100%;height:1rem;font-size:.8rem;background-color:#f5f5f5;border-top-left-radius:10px;border-top-right-radius:10px;border-top:2px solid #d0e1ad;border-left:2px solid #d0e1ad;border-right:2px solid #d0e1ad;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.5rem}.editor-wrapper .editor div{height:100%;position:relative}.editor-wrapper .editor article{overflow:auto;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:.5rem;border-radius:10px;border:2px solid #d0e1ad}.editor-wrapper .editor .hide{display:none}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/Luo Yuzhou/Documents/Projects/ink/src/components/manage/edit/style.less\"],\"names\":[],\"mappings\":\"AAAA,qBACE,kBAAoB,CACrB,AACD,gBACE,UAAY,CACb,AACD,wBACE,YAAa,AACb,WAAY,AACZ,iBAAmB,AACnB,mBAAsB,CACvB,AACD,sCACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,gBAAkB,AAClB,yBAA6B,AAC7B,4BAA6B,AAC7B,6BAA8B,AAC9B,6BAA8B,AAC9B,8BAA+B,AAC/B,+BAAgC,AAChC,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,aAAgB,CACjB,AACD,4BACE,YAAa,AACb,iBAAmB,CACpB,AACD,gCACE,cAAe,AACf,YAAa,AACb,8BAA+B,AACvB,sBAAuB,AAC/B,cAAgB,AAChB,mBAAoB,AACpB,wBAA0B,CAC3B,AACD,8BACE,YAAc,CACf\",\"file\":\"style.less\",\"sourcesContent\":[\".editor-info-wrapper {\\n  margin-bottom: 1rem;\\n}\\n.editor-wrapper {\\n  width: 100%;\\n}\\n.editor-wrapper .editor {\\n  height: 65vh;\\n  width: 100%;\\n  margin-top: 0.5rem;\\n  margin-bottom: 0.5rem;\\n}\\n.editor-wrapper .editor .preview-hint {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 1rem;\\n  font-size: 0.8rem;\\n  background-color: whitesmoke;\\n  border-top-left-radius: 10px;\\n  border-top-right-radius: 10px;\\n  border-top: 2px solid #d0e1ad;\\n  border-left: 2px solid #d0e1ad;\\n  border-right: 2px solid #d0e1ad;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  padding: 0.5rem;\\n}\\n.editor-wrapper .editor div {\\n  height: 100%;\\n  position: relative;\\n}\\n.editor-wrapper .editor article {\\n  overflow: auto;\\n  height: 100%;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  padding: 0.5rem;\\n  border-radius: 10px;\\n  border: 2px solid #d0e1ad;\\n}\\n.editor-wrapper .editor .hide {\\n  display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/less-loader/dist/cjs.js!./src/components/manage/edit/style.less\n// module id = 309\n// module chunks = 1"],"sourceRoot":""}